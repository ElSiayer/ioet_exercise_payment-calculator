# Payment Calculator
## Introduction
The goal of this exercise is to calculate the total that the company has to pay an employee, based on the hours they worked and the times during which they worked.

The days have the following abbreviation:

Day | Abbreviation 
--- | --- 
Monday | MO
Tuesday | TU
Wednesday | WE
Thursday | TH
Friday | FR
Saturday | SA
Sunday | SU

The schedules and payments for working hours are as follows:
Monday - Friday | Payment 
--- | --- 
00:01 - 09:00 | 25 USD
09:01 - 18:00 | 15 USD
18:01 - 00:00 | 20 USD

Saturday - Sunday | Payment 
--- | --- 
00:01 - 09:00 | 30 USD
09:01 - 18:00 | 20 USD
18:01 - 00:00 | 25 USD

The input and output data should be as follows:

### Input:
        RENE=MO10:00-12:00,TU10:00-12:00,TH01:00-03:00,SA14:00-18:00,SU20:00-21:00
### Output:
        The amount to pay RENE is: 215 USD    
 
 

## Overview
This project is developed in python, the project calculates the payment that a company must make to its employees for the hours that they have registered, the records of these hours are taken from a txt file, to be converted into objects for better data management.

The project validates the input data, if it does not correspond to the desired data, an exception will be raised explaining the error.

To calculate the hours worked, these hours are converted into minutes in order to calculate the time ranges with their respective cost.

To change the input data there is a file called employees.txt, which is where the employee data is extracted.

To change the ranges of hours, payments or the abbreviations of the days there is a file called utilities.py.

## Architecture
The project uses an object-oriented architecture as it is divided into individual objects for data handling, these objects have their own information and methods.

The objects of the project are located in the Models folder and these are: 

### DayWorked
This object contains the information of the day of work, which is made up of the day of the week, the start time and the end time that was worked, these hours are in minutes.
### Employee
This object contains the employee's information, which consists of the employee's name, the amount to be paid in USD and the days worked.
### Wage
This object contains the start time, end time and how much the hour of work costs in that range of hours, the hours are in minutes.

## Run the project
The project uses python version 3.10.2, this must be taken into account to avoid errors in the compilation. The project has a file called .python-version which contains the version of python in which this was developed, this file can be used by [pyenv](https://github.com/pyenv/pyenv) which is used when working with different versions, this facilitates the change of version to which it is needed.

To run the project go to the root folder of the project and execute the following command:
    
    python app.py
    
## Tests
The project has different unit tests, these are located in the folder called Tests, in this folder there is a file called config_test.py where are the data used as input and output of the tests.

The unit tests that are performed are the obtaining of the payment for hours worked, the output of the payment generated by the employee, the change of hours to minutes and the transformation of a dictionary to a wage object.

To validate the unit tests the following command must be executed in the root of the folder:

    python -m unittest discover -s Tests

## Improvements:
A better way to manage the schedules would be the use of an [interval tree](https://pypi.org/project/intervaltree/), with this module you could use this data structure and optimize the project.
